<div id="content">
  <app-cloud-detail *ngIf="cloudDetail" [cloud]="cloud" [option]="option" [parentCom]="'订阅列表'"
                    (result)="cancel($event)"></app-cloud-detail>
  <div *ngIf="!cloudDetail">
    <nz-layout style="padding:24px 0; background: transparent">
      <nz-content style="padding: 0 24px; min-height: 280px;">
        <div id="list-tool">
          <label>
            <input type="text" nz-input placeholder="输入关键字搜索" [(ngModel)]="searchValue" (ngModelChange)="search()">
          </label>
          <div id="btns">
            <button nz-button (click)="reFresh()">刷新</button>
            <button nz-button nzType="primary" (click)="add()">新增</button>
          </div>
        </div>
        <nz-table #basicTable [nzData]="cloudList" [nzLoading]="loading">
          <thead>
          <tr>
            <th nzWidth="100px">#</th>
            <th>订阅名称</th>
            <th>订阅方式</th>
            <th>订阅主题</th>
            <th>数据格式</th>
            <th>状态</th>
            <th>操作</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let data of basicTable.data">
            <td>{{cloudList.indexOf(data) + 1}}</td>
            <td>{{data.name}}</td>
            <td>{{data.destination}}</td>
            <td>{{data.topic}}</td>
            <td>{{data.format}}</td>
            <td>
                <div *ngIf="!data.enable" nz-button  nzShape="circle" [nzSize]="small" style="width: 25px;height: 25px; background-color: #bfbfbf"></div>
                <div *ngIf="data.enable" nz-button  nzLoading nzType="primary" nzShape="circle" [nzSize]="small" style="width: 25px;height: 25px; background-color: #095df8"></div>
            </td>
            
            <td>
                <a style="font-size: 15px;" (click)="edit(data.id)">编辑</a>
                <nz-divider nzType="vertical"></nz-divider>
                <a *ngIf="!data.enable"  [id]="data.name" style="color:rgb(67, 34, 255);font-size: 15px;"  (click)="start(data.name,data.id)">启动</a>
                <a *ngIf="data.enable" style="color:#F22;font-size: 15px;" (click)="stop(data.id)">停止</a>
                <nz-divider nzType="vertical"></nz-divider>
                <a style="color:#F22;" nz-popconfirm nzTitle="确定删除?" (nzOnConfirm)="remove(data.id)">删除</a>
            </td>
          </tr>
          </tbody>
        </nz-table>
      </nz-content>
    </nz-layout>
  </div> 
</div>
  
